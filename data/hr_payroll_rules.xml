<?xml version="1.0" encoding="utf-8" ?>
<odoo>

    <record id="DOPR_IZ" model="hr.salary.rule.category">
        <field name="name">Doprinosi IZ plate</field>
        <field name="code">DOPR_IZ</field>
    </record>

    <record id="DOPR_NA" model="hr.salary.rule.category">
        <field name="name">Doprinosi NA platu</field>
        <field name="code">DOPR_NA</field>
    </record>


    <!-- PARAMS Doprinosi IZ ... -->
    <record id="rule_parameter_dopr_iz_pio" model="hr.rule.parameter">
        <field name="name">Dopr.IZ PIO</field>
        <field name="code">D_IZ_PIO</field>
        <!-- Bosnia and Herzegovina -->
        <field name="country_id" ref="base.ba"/>
    </record>
    <record id="rule_parameter_dopr_iz_pio_2020" model="hr.rule.parameter.value">
        <field name="parameter_value">17</field>
        <field name="rule_parameter_id" ref="rule_parameter_dopr_iz_pio"/>
        <field name="date_from" eval="datetime(2020, 1, 1).date()"/>
    </record>

    <record id="rule_parameter_dopr_iz_zdr" model="hr.rule.parameter">
        <field name="name">Dopr.IZ ZDR</field>
        <field name="code">D_IZ_ZDR</field>
        <field name="country_id" ref="base.ba"/>
    </record>
    <record id="rule_parameter_dopr_iz_zdr_2020" model="hr.rule.parameter.value">
        <field name="parameter_value">12.5</field>
        <field name="rule_parameter_id" ref="rule_parameter_dopr_iz_zdr"/>
        <field name="date_from" eval="datetime(2020, 1, 1).date()"/>
    </record>

    <record id="rule_parameter_dopr_iz_nez" model="hr.rule.parameter">
        <field name="name">Dopr.IZ Nezap</field>
        <field name="code">D_IZ_NEZ</field>
        <field name="country_id" ref="base.ba"/>
    </record>
    <record id="rule_parameter_dopr_iz_nez_2020" model="hr.rule.parameter.value">
        <field name="parameter_value">1.5</field>
        <field name="rule_parameter_id" ref="rule_parameter_dopr_iz_nez"/>
        <field name="date_from" eval="datetime(2020, 1, 1).date()"/>
    </record>

    <!-- PARAMS Doprinosi NA ... -->
    <record id="rule_parameter_dopr_na_pio" model="hr.rule.parameter">
        <field name="name">Dopr.NA PIO</field>
        <field name="code">D_NA_PIO</field>
        <!-- Bosnia and Herzegovina -->
        <field name="country_id" ref="base.ba"/>
    </record>
    <record id="rule_parameter_dopr_na_pio_2020" model="hr.rule.parameter.value">
        <field name="parameter_value">6.0</field>
        <field name="rule_parameter_id" ref="rule_parameter_dopr_na_pio"/>
        <field name="date_from" eval="datetime(2020, 1, 1).date()"/>
    </record>

    <record id="rule_parameter_dopr_na_zdr" model="hr.rule.parameter">
        <field name="name">Dopr.NA ZDR</field>
        <field name="code">D_NA_ZDR</field>
        <field name="country_id" ref="base.ba"/>
    </record>
    <record id="rule_parameter_dopr_na_zdr_2020" model="hr.rule.parameter.value">
        <field name="parameter_value">4.0</field>
        <field name="rule_parameter_id" ref="rule_parameter_dopr_na_zdr"/>
        <field name="date_from" eval="datetime(2020, 1, 1).date()"/>
    </record>

    <record id="rule_parameter_dopr_na_nez" model="hr.rule.parameter">
        <field name="name">Dopr.NA Nezap</field>
        <field name="code">D_NA_NEZ</field>
        <field name="country_id" ref="base.ba"/>
    </record>
    <record id="rule_parameter_dopr_na_nez_2020" model="hr.rule.parameter.value">
        <field name="parameter_value">0.5</field>
        <field name="rule_parameter_id" ref="rule_parameter_dopr_na_nez"/>
        <field name="date_from" eval="datetime(2020, 1, 1).date()"/>
    </record>


    <record id="NETO" model="hr.salary.rule.category">
        <field name="name">Neto plata</field>
        <field name="code">NETO</field>
    </record>
    <record id="NETO2" model="hr.salary.rule.category">
        <field name="name">Neto plata poslije poreza</field>
        <field name="code">NETO2</field>
    </record>

    <record id="hr_salary_rule_neto" model="hr.salary.rule">
        <field name="name">Neto plata prije poreza</field>
        <field name="sequence" eval="100" />
        <field name="code">NETO</field>
        <field name="category_id" ref="l10n_bs_hr_payroll.NETO" />
        <field name="condition_select">none</field>
        <field name="amount_select">code</field>
        <field name="amount_python_compute">
result = contract.wage * 0.10
        </field>
    </record>

    <!-- Doprinosi NA rules ... -->
    <record id="hr_salary_rule_dopr_na" model="hr.salary.rule">
        <field name="name">Doprinosi NA platu</field>
        <field name="sequence" eval="200" />
        <field name="code">D_NA</field>
        <field name="category_id" ref="l10n_bs_hr_payroll.DOPR_NA" />
        <field name="condition_select">none</field>
        <field name="amount_select">code</field>
        <field name="amount_python_compute">
result_rate = float(payslip.rule_parameter('D_NA_PIO')) + float(payslip.rule_parameter('D_NA_ZDR')) + float(payslip.rule_parameter('D_NA_NEZ'))
result = categories.BRUTO
        </field>
    </record>

    <record id="hr_salary_rule_dopr_na_pio" model="hr.salary.rule">
        <field name="name">Doprinosi NA PIO</field>
        <field name="sequence" eval="201" />
        <field name="code">D_NA_PIO</field>
        <field name="category_id" ref="l10n_bs_hr_payroll.DOPR_NA" />
        <field name="parent_rule_id" ref="hr_salary_rule_dopr_na" />
        <field name="condition_select">none</field>
        <field name="amount_select">code</field>
        <field name="amount_python_compute">
result_rate = float(payslip.rule_parameter('D_NA_PIO'))
result = categories.BRUTO
        </field>
    </record>

    <record id="hr_salary_rule_dopr_na_zdr" model="hr.salary.rule">
        <field name="name">Doprinos NA Zdravstvo</field>
        <field name="sequence" eval="202" />
        <field name="code">D_NA_ZDR</field>
        <field name="category_id" ref="l10n_bs_hr_payroll.DOPR_NA" />
        <field name="parent_rule_id" ref="hr_salary_rule_dopr_na" />
        <field name="condition_select">none</field>
        <field name="amount_select">code</field>
        <field name="amount_python_compute">
result_rate = float(payslip.rule_parameter('D_NA_ZDR'))
result = categories.BRUTO
        </field>
    </record>

    <record id="hr_salary_rule_dopr_na_nez" model="hr.salary.rule">
        <field name="name">Doprinos NA Nezaposlenost</field>
        <field name="sequence" eval="201" />
        <field name="code">D_NA_NEZ</field>
        <field name="category_id" ref="l10n_bs_hr_payroll.DOPR_NA" />
        <field name="parent_rule_id" ref="hr_salary_rule_dopr_na" />
        <field name="condition_select">none</field>
        <field name="amount_select">code</field>
        <field name="amount_python_compute">
result_rate = float(payslip.rule_parameter('D_NA_PIO'))
result = categories.BRUTO
        </field>
    </record>

    <!-- Doprinosi IZ rules ... -->
    <record id="hr_salary_rule_dopr_iz" model="hr.salary.rule">
        <field name="name">Doprinosi IZ plate</field>
        <field name="sequence" eval="250" />
        <field name="code">D_IZ</field>
        <field name="category_id" ref="l10n_bs_hr_payroll.DOPR_IZ" />
        <field name="condition_select">none</field>
        <field name="amount_select">code</field>
        <field name="amount_python_compute">
result_rate = float(payslip.rule_parameter('D_IZ_PIO')) + float(payslip.rule_parameter('D_IZ_ZDR')) + float(payslip.rule_parameter('D_IZ_NEZ'))
result = categories.BRUTO
        </field>
    </record>

    <record id="hr_salary_rule_dopr_iz_pio" model="hr.salary.rule">
        <field name="name">Doprinos IZ PIO</field>
        <field name="sequence" eval="251" />
        <field name="code">D_IZ_PIO</field>
        <field name="category_id" ref="l10n_bs_hr_payroll.DOPR_IZ" />
        <field name="parent_rule_id" ref="hr_salary_rule_dopr_iz" />
        <field name="condition_select">none</field>
        <field name="amount_select">code</field>
        <field name="amount_python_compute">
result_rate = float(payslip.rule_parameter('D_IZ_PIO'))
result = categories.BRUTO
        </field>
    </record>

    <record id="hr_salary_rule_dopr_iz_zdr" model="hr.salary.rule">
        <field name="name">Doprinos IZ ZDRAVSTVO</field>
        <field name="sequence" eval="252" />
        <field name="code">D_IZ_ZDR</field>
        <field name="category_id" ref="l10n_bs_hr_payroll.DOPR_IZ" />
        <field name="parent_rule_id" ref="hr_salary_rule_dopr_iz" />
        <field name="condition_select">none</field>
        <field name="amount_select">code</field>
        <field name="amount_python_compute">
result_rate = float(payslip.rule_parameter('D_IZ_ZDR'))
result = categories.BRUTO
        </field>
    </record>

    <record id="hr_salary_rule_dopr_iz_nez" model="hr.salary.rule">
        <field name="name">Doprinos IZ Nezaposleni</field>
        <field name="sequence" eval="253" />
        <field name="code">D_IZ_NEZ</field>
        <field name="category_id" ref="l10n_bs_hr_payroll.DOPR_IZ" />
        <field name="parent_rule_id" ref="hr_salary_rule_dopr_iz" />
        <field name="condition_select">none</field>
        <field name="amount_select">code</field>
        <field name="amount_python_compute">
result_rate = float(payslip.rule_parameter('D_IZ_NEZ'))
result = categories.BRUTO
        </field>
    </record>


    <record id="structure_fbih" model="hr.payroll.structure">
        <field name="code">BASEF</field>
        <field name="name">Standardni obraƒçun FBiH </field>
        <field
            eval="[(6, 0, [ref('hr_salary_rule_neto'), ref('hr_salary_rule_dopr_na'),ref('hr_salary_rule_dopr_iz')])]"
            name="rule_ids"
        />
        <field name="company_id" ref="base.main_company" />
    </record>

    <record id="dep_proizvodnja" model="hr.department">
        <field name="name">Proizvodnja</field>
    </record>

    <record id="job_brav_cjev_3" model="hr.job">
        <field name="name">Monter bravar cjevar III klase</field>
        <field name="department_id" ref="dep_proizvodnja"/>
        <!--
        <field name="no_of_recruitment">5</field>
        -->
        <field name="contract_type_id" ref="hr.contract_type_permanent"/>
    </record>

    <record id="job_varilac" model="hr.job">
        <field name="name">Varilac</field>
        <field name="department_id" ref="dep_proizvodnja"/>
        <!--
        <field name="no_of_recruitment">5</field>
        -->
        <field name="contract_type_id" ref="hr.contract_type_permanent"/>
    </record>

    <record id="hr_employee_bs_fbih01" model="hr.employee">
        <field name="company_id" ref="base.main_company" />
        <field name="active" eval="1" />
        <field name="name">Test radnik FBiH01</field>
        <field name="marital"></field>
        <field name="certificate"></field>
        <field name="country_id" ref="base.ba"/>
        <field name="identification_id">0301970199919</field>
        <field name="passport_id">PSBH0001</field>
        <field name="work_phone">+38761141311</field>
    </record>


    <record id="hr_employee_bs_fbih02" model="hr.employee">
        <field name="company_id" ref="base.main_company" />
        <field name="marital"></field>
        <field name="certificate"></field>
        <field name="active" eval="1" />
        <field name="country_id" ref="base.ba"/>
        <field name="name">Test radnik FBiH02</field>
        <field name="identification_id">2201977199910</field>
        <field name="passport_id">PSBH00200</field>
        <field name="work_phone">+38761477105</field>
    </record>


    <record id="hr_contract_test01" model="hr.contract">
        <field name="name">FBiH01 Contract 2020</field>
        <field name="state">open</field>
        <field name="department_id" ref="dep_proizvodnja"/>
        <field name="job_id" ref="job_varilac"/>
        <field name="date_start" eval="datetime(2020, 1, 1).date()" />
        <!--
        <field name="date_end" eval="datetime(2023, 1, 1).date()" />
        -->
        <field name="struct_id" ref="structure_fbih" />
        <field name="structure_type_id" ref="hr_contract.structure_type_employee" />
        <field name="employee_id" ref="hr_employee_bs_fbih01" />
        <field name="notes">Contract for Test Radnik FBiH01</field>
        <field eval="1000.00" name="wage" />
    </record>

    <record id="hr_contract_test02" model="hr.contract">
        <field name="name">FBiH02 Contract 2020</field>
        <field name="department_id" ref="dep_proizvodnja"/>
        <field name="job_id" ref="job_brav_cjev_3"/>
        <!-- draft,open,close,cancel -->
        <field name="state">open</field>
        <field name="date_start" eval="datetime(2020, 2, 2).date()" />
        <!--
        <field name="date_end" eval="datetime(2023, 1, 1).date()" />
        -->
        <field name="struct_id" ref="structure_fbih" />
        <!--
        https://www.dfalaw.co.uk/faq_type/what-is-the-difference-between-an-employee-and-a-worker/
        -->
        <field name="structure_type_id" ref="hr_contract.structure_type_employee" />
        <field name="employee_id" ref="hr_employee_bs_fbih02" />
        <field name="notes">Contract for Test Radnik FBiH02</field>
        <field eval="1200.00" name="wage" />
    </record>

</odoo>
